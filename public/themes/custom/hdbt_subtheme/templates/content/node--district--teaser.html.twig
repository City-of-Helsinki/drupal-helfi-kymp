{%
  set classes = [
    'district-teaser',
    'node--type-' ~ node.bundle|clean_class,
  ]
%}

{% if content.field_subdistricts.0 %}
  {% set subdistricts = content.field_subdistricts %}
  {% embed '@hdbt/component/card.twig' with {
    card_modifier_class: classes|join(' '),
    card_image: content.field_district_image,
    card_title: label,
    card_url: node_url,
    card_metas: [
      {
        icon: 'location',
        label: 'Districts'|t,
        content:  subdistricts
      },
    ],
    card_tags: [
      {
        tag: 'District'|t,
        color: 'coat-of-arms',
      },
    ],
  } %}
  {% endembed %}
{% else %}
  {% embed '@hdbt/component/card.twig' with {
    card_modifier_class: classes|join(' '),
    card_image: content.field_district_image,
    card_title: label,
    card_url: node_url,
    card_tags: [
      {
        tag: 'District'|t,
        color: 'coat-of-arms',
      },
    ],
  } %}
  {% endembed %}
{% endif %}
