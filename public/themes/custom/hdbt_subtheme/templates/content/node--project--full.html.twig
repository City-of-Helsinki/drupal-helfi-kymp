{%
  set classes = [
    'node--type-' ~ node.bundle|clean_class,
    view_mode ? 'node--view-mode-' ~ view_mode|clean_class,
    node_class,
  ]
%}

<article{{ attributes.addClass(classes) }}>
  {{ title_prefix }}
  {% if label and not page and view_mode is not same as('full') %}
    <h2{{ title_attributes }}>
      {% set link_attributes = {
        'rel': 'bookmark',
      } %}
      {{ link(label, node_url, link_attributes) }}
    </h2>
  {% endif %}
  {{ title_suffix }}

  {% block main_content %}

    {# Tags #}
    {% if content.field_project_type|render %}
      {% embed '@hdbt/misc/tag-list.twig'%}
        {% block content %}
          {% if content.field_project_type|render %}
            {% for key in content.field_project_type['#items']|keys %}
              {% include '@hdbt/misc/tag.twig' with {
                tag: content.field_project_type[key],
              }%}
            {% endfor %}
          {% endif %}
        {% endblock content %}
      {% endembed %}
    {% endif %}

    {{ content.field_lead_in }}
    <div class="project__image-container">
      {{ content.field_project_image }}
    </div>

    {% set metadata = [
      { label: 'Project phase'|t, icon: 'calendar-clock', content: content.field_project_phase },
      { label: 'Project theme'|t, icon: 'locate', content: content.field_project_theme },
      { label: 'Project plan schedule'|t, icon: 'calendar', content: content.field_project_plan_schedule },
      { label: 'Project location'|t, icon: 'location', content: content.field_project_district }
    ] %}

    <div class="project__metadata-wrapper">
      {% include '@hdbt/misc/metadata-wrapper.twig' with { items: metadata }%}
    </div>

    {{ content.field_content}}

  {% endblock main_content %}

</article>
